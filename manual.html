<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>jawptool/ウィキペディア日本語版データ解析ツール</title>
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css">
<!--
h2 {
  border-bottom: 1px solid black;
}
pre {
  margin: 20px;
  background-color: #cccccc;
}
-->
</style>
</head>

<body>

<h1>jawptool/ウィキペディア日本語版データ解析ツール</h1>

<h2>はじめに</h2>

<p>
ウィキペディアをご存知でしょうか。おそらくですが、全く知らないという方はいらっしゃらないのではないかと思います。それくらい有名なサイトです。現在では、世界で5番目に大きなサイトだということです。
</p>
<p>
ウィキペディアは、その名の通り「ウィキ(wiki)」という誰でも自由に編集できるシステムを用いて作成されています。ウィキペディアの読者は、記事を読んでいて内容に問題があると感じたら、その場で即座に修正することが出来ます。その修正も、また別の読者によって修正されることもあります。そういうことを繰返すことによって、ウィキペディアは記事の量と質をあげていっているのです。
</p>
<p>
誰でも自由に編集できるということから、ときには記事の内容が誤ったものになる場合もあります。また、人間の手で行うことですから、ケアレスミスもあり得ます。そうした誤りは、見つけた人が修正すればいいのですが、なにせ膨大な記事がありますから、誤りを見つけるのも大変です。全ての誤りを見つけることは出来なくても、機械的に発見できる誤りだけでも見つけられれば、ウィキペディアの品質を少しでも向上できるのではないだろうか。そう考えて、この「jawptool/ウィキペディア日本語版データ解析ツール」は生れました。
</p>
<p>
また、ウィキペディアの記事データは、GFDLというライセンスに従いさえすれば誰も自由に利用することが出来ます。もちろん無料で使用することが出来ます。ならば、この自由に利用できる巨大なデータ(総容量9GB以上!)を解析することによって、新たな知見を得ることが出来るかもしれない。そんな夢もこめられています。
</p>
<p>
まだまだ未熟なツールですが、これからも開発を続けることによって一層の機能強化を行い、少しでもこうした目標を達成できればと思っています。
</p>

<h2>概要</h2>

<p>
「jawptool/ウィキペディア日本語版データ解析ツール」は全てperlというプログラム言語で書かれています。jawptoolを動作させるのには、perlだけが必要で、他に必要なプログラムやライブラリはありません。厳密にはいくつかのperl用ライブラリを使用していますが、いずれもコアライブラリと呼ばれるperlに標準で添付しているライブラリですので別途インストールは必要ありません。出来るだけ動作環境を簡単にして利用しやすくするというのも、jawptoolの開発目標の一つに掲げています。
</p>
<p>
CGI版に関してはウェブサーバが別途必要になります。しかし、これはレンタルサーバなどで既に設定済みの環境も多く在りますので、動作の準備にはさしたる手間にはならないと思います。
</p>
<p>
jawptoolを使用するには、もちろんウィキペディア日本語版のデータが必要になります。しかし、ウィキペディアのサイトから1記事ごとに保存していては手間が掛かって仕方がありません。そうした場合に備えて、データベースダンプが<a href="http://dumps.wikimedia.org/jawiki/">http://dumps.wikimedia.org/jawiki/</a>にて公開されています。このURLにアクセスするとディレクトリがずらっと並んでいますが、「latest/」というのが最新版のデータベースダンプになりますので通常はこちらを使用することになります。
</p>

<h2>動作環境</h2>

<p>
「概要」にも書きましたが、jawptoolを動作させるのにはperlだけが必要で、他に必要なものはありません。perlが動作するのであれば、OSは問いません。UNIXでもLinuxでもWindowsでも動作します。ただ、筆者の手元の環境ではActivePerlではうまく動作しませんでしたので、出来ればUNIX/Linux環境を用意したほうが良いと思います。perlのバージョンは5.8以上である必要があります。5.6以前のperlはほとんど見かけなくなりましたので、問題になることは少ないと思います。
</p>
<p>
jawptoolを動作させるのにはperlだけでよいのですが、処理するデータであるウィキペディア日本語版データベースダンプを取得するのに、二つのプログラムが必要になります。一つはhttp経由でデータをダウンロードするツール。これはwgetなどのコマンドラインで動作するものでも構いませんし、Firefoxなどのウェブブラウザでダウンロードしても構いません。もう一つは、bzip2を展開するプログラムです。
</p>
<p>
ウィキペディア日本語版のデータが巨大であるため、jawptoolを動作させるには以下のハードウェア環境が必要になります(執筆時点)。
</p>
<dl>
<dt>CPU</dt>
<dd>クロック1GHz以上推奨</dd>
<dt>メインメモリ</dt>
<dd>1GB以上</dd>
<dt>HDD空き容量</dt>
<dd>20GB以上</dd>
</dl>
<p>
ウィキペディア日本語版が成長するに従ってデータも大きくなるため、時間が経つとこの要件も更に厳しくなると予想されます。
</p>

<h2>インストール</h2>

<p>
jawptoolのインストールは簡単です。配布されているパッケージを展開して、作業用のディレクトリに置くだけで完了します。以下、具体的に手順を説明します。
</p>
<p>
まず、jawptoolの配布サイトである<a href="http://sourceforge.jp/projects/jawptool/">http://sourceforge.jp/projects/jawptool/</a>からパッケージをダウンロードしてきます。
</p>
<p>
次にダウンロードしてきたパッケージを展開します。
</p>
<pre>$ tar xvzf jawptool-0.30.tar.gz</pre>
<p>
展開して出来たディレクトリに移動して完了です。
</p>
<pre>$ cd jawptool-0.30</pre>
<p>
CGI版のインストールは「CGI版」で説明します。
</p>

<h2>使い方</h2>

<p>
jawptoolの使用法は簡単で、コマンドラインからコマンドをタイプするだけです。パラメータを与えないと、usageが表示されます。
</p>
<pre>$ ./jawptool.pl
jawptool 0.30

Usage: jawptool.pl command xmlfile reportfile

command:
  lint-title
  lint-text
  lint-redirect
  lint-index
  statistic
  titlelist
  living-noref
  longterm-request
  person
  noindex
  index-statistic
  aimai
  shortpage
  lonelypage
  category-statistic
</pre>
<p>
jawptoolのパラメータは「コマンド」「入力ファイル名」「出力ファイル名」の三つになります。コマンドはjawptoolがどのような処理をするか指定するもので、0.22では12個あります。入力ファイル名は、ウィキペディア日本語版のデータベースダンプファイルを指定します。出力ファイル名は、処理結果を出力するファイル名です。
</p>
<p>
次に、ウィキペディア日本語版のデータベースダンプをダウンロードします。「概要」で書きました通り、データベースダンプは<a href="http://dumps.wikimedia.org/jawiki/">http://dumps.wikimedia.org/jawiki/</a>にて公開されています。データベースダンプにも多くの種類がありますが、jawptoolで使用するのは基本的に「jawiki-latest-pages-articles.xml」と「jawiki-latest-pages-meta-current.xml」の二つです。
</p>
<p>
「jawiki-latest-pages-articles.xml」は、標準記事空間など主要なページのみの最新版を収録したファイルです。一方、「jawiki-latest-pages-meta-current.xml」は、全てのページの最新版が収録されています。
</p>
<p>
それぞれ、bzip2で圧縮されていますので、まずはそれをダウンロードしましょう。データベースが巨大ですのでダウンロードにも時間が掛かります。ゆっくり待ちましょう。
</p>
<p>
ダウンロードできたらbzip2を展開します。
</p>
<pre>$ bzip2 -d *.bz2</pre>
<p>
以上で、jawptoolを実行する準備は整いました。次節から、コマンドごとの詳細な機能を説明します。
</p>

<h2 id="lint-title">記事名チェック(lint-title)</h2>

<p>
記事名チェックは、記事名がガイドラインに沿っているかどうかを確かめて、問題がありそうな記事名を報告する機能です。
</p>
<p>
基本的に標準名前空間の記事名だけを調べればよいので、データベースファイルは「jawiki-latest-pages-articles.xml」を使用します。コマンドラインから以下のように入力して実行します。出力ファイル名は、既存のファイル名でなければ何でも構いません。
</p>
<pre>$ ./jawptool lint-title jawiki-latest-pages-articles.xml lint-title.txt</pre>
<p>
しばらくするとチェックが完了して、レポートファイルが作成されます。レポートは以下のようになっています。
</p>
<pre>= 記事名lint =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-articles.xml を記事名の誤りの可能性について検査したものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

プログラムで機械的に検査しているため、修正すべきでない記事についても検出されている可能性は大いにあります。この一覧を元に修正を行う場合は、個別にその修正が行われるべきか、十分に検討してから行うようにお願いします。また、修正は必ず各方針・ガイドラインに従って行ってください。本プログラムの開発時より後に方針・ガイドラインが更新されている可能性もあることを留意下さい。

== [[二ノ宮知子]] ==
*片仮名と「力/工/口/二(漢字)」が隣接しています

== [[「最近の出来事」の過去ログ]] ==
*括弧の使用は推奨されません

== [[ソフトウエア工学]] ==
*片仮名と「力/工/口/二(漢字)」が隣接しています

== [[ニュートン力学]] ==
*片仮名と「力/工/口/二(漢字)」が隣接しています

(以下省略)
</pre>
<p>
jawptoolの出力するレポートは、基本的に全てwiki記法で行われます。wikiに慣れていないと読みにくいかもしれませんが、厳しいことを言えばこれが自然に読めるくらいにwikiに慣れていないとjawptoolの出力結果を活用することは難しいです。是非、wiki記法を自然に使いこなせるくらいにウィキペディアに慣れましょう。
</p>
<p>
レポートは冒頭に注意文が出力され、それ以降は「記事名」「その記事名の問題点」が繰返されます。この例にあるように「二ノ宮知子」に対して「片仮名と「力/工/口/二(漢字)」が隣接しています」という問題点が指摘されていますが、これは問題ありませんのでそのままにして大丈夫です。機械的にチェックを行っているため、このように実際には問題ではない場合でもチェックされる場合がありますのでレポートの取り扱いには注意が必要です。
</p>
<p>
次に警告文とその意味を個別に説明します。
</p>
<dl>
<dt>「曖昧さ回避の記事であればカッコは半角でないといけません」</dt>
<dd>
記事名に全角括弧を使用している場合に出力されます。「記事名（曖昧さ回避）」などのような場合です。曖昧さ回避記事であれば、括弧は半角括弧でなければならないため改名が必要になります。ただし、「日本共産党（左派）」などのように固有名詞として括弧を用いている場合は、そのままで構いません。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E8.A8.98.E4.BA.8B.E5.90.8D.E3.81.AE.E9.87.8D.E8.A4.87.E3.82.92.E5.9B.9E.E9.81.BF.E3.81.99.E3.82.8B.E6.89.8B.E6.AE.B5">Wikipedia:記事名の付け方#記事名の重複を回避する手段</a>」より
</dd>
<dt>「曖昧さ回避の記事であればカッコの前のスペースはひとつでないといけません」</dt>
<dd>
半角括弧の前に半角スペースが無いか、二つ以上ある場合に出力されます。「記事名(曖昧さ回避)」や「記事名__(曖昧さ回避)」のような場合です。曖昧さ回避の記事名では、半角括弧の前の半角スペースが一つである必要があります。曖昧さ回避記事であるならば改名が必要です。固有名詞として括弧を使用しているなら全角括弧に改名が必要です。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E8.A8.98.E4.BA.8B.E5.90.8D.E3.81.AE.E9.87.8D.E8.A4.87.E3.82.92.E5.9B.9E.E9.81.BF.E3.81.99.E3.82.8B.E6.89.8B.E6.AE.B5">Wikipedia:記事名の付け方#記事名の重複を回避する手段</a>」より
</dd>
<dt>「全角スペース、全角記号の使用は推奨されません」</dt>
<dd>
全角スペース、全角記号(，．！？＆＠＃など)を使用している場合に出力されます。これらは半角記号を使用したものに改名が必要です。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E5.85.A8.E8.A7.92.E3.81.A8.E5.8D.8A.E8.A7.92.E3.81.AE.E4.BD.BF.E3.81.84.E5.88.86.E3.81.91">Wikipedia:記事名の付け方#全角と半角の使い分け</a>」より
</dd>
<dt>「全角英数字の使用は推奨されません」</dt>
<dd>
全角英数字を使用している場合に出力されます。これらは半角英数字を使用したものに改名が必要です。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E5.85.A8.E8.A7.92.E3.81.A8.E5.8D.8A.E8.A7.92.E3.81.AE.E4.BD.BF.E3.81.84.E5.88.86.E3.81.91">Wikipedia:記事名の付け方#全角と半角の使い分け</a>」より
</dd>
<dt>「半角カタカナの使用は推奨されません」</dt>
<dd>
半角カタカナを使用している場合に出力されます。これらは全角カタカナを使用したものに改名が必要です。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E5.85.A8.E8.A7.92.E3.81.A8.E5.8D.8A.E8.A7.92.E3.81.AE.E4.BD.BF.E3.81.84.E5.88.86.E3.81.91">Wikipedia:記事名の付け方#全角と半角の使い分け</a>」より
</dd>
<dt>「ローマ数字はアルファベットを組み合わせましょう」</dt>
<dd>
記号のローマ数字(Ⅰ、Ⅱなど)を使用している場合に出力されます。これらはアルファベットを組み合わせて表記したものに改名が必要です。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E5.85.A8.E8.A7.92.E3.81.A8.E5.8D.8A.E8.A7.92.E3.81.AE.E4.BD.BF.E3.81.84.E5.88.86.E3.81.91">Wikipedia:記事名の付け方#全角と半角の使い分け</a>」より
</dd>
<dt>「丸付き数字の使用は推奨されません」</dt>
<dd>
記号の丸付き数字(①、②など)を使用している場合に出力されます。これらは(1)などに改名が必要です。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E5.85.A8.E8.A7.92.E3.81.A8.E5.8D.8A.E8.A7.92.E3.81.AE.E4.BD.BF.E3.81.84.E5.88.86.E3.81.91">Wikipedia:記事名の付け方#全角と半角の使い分け</a>」より
</dd>
<dt>「括弧の使用は推奨されません」</dt>
<dd>
括弧記号(「」『』〔〕〈〉《》【】)を使用している場合に出力されます。記事名には括弧を使用しないことが推奨されています。しかし、固有名詞として括弧を含む場合には使用しても構いません。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E8.8A.B8.E8.A1.93.E4.BD.9C.E5.93.81">Wikipedia:記事名の付け方#芸術作品</a>」より
</dd>
<dt>「平仮名と「ヘ/ベ/ペ(片仮名)」が隣接しています」</dt>
<dd>
平仮名と「へ/ベ/ペ(片仮名)」が隣り合っている場合に出力されます。「<b>ぺ</b>レストロイカ」のようにへ(べ、ぺ)の平仮名と片仮名をタイプミスしている場合には改名が必要です。「紅白歌のベストテン」のようにタイプミスではない場合には、そのままで構いません。
</dd>
<dt>「片仮名と「へ/べ/ぺ(平仮名)」が隣接しています」</dt>
<dd>
片仮名と「へ/べ/ぺ(平仮名)」が隣り合っている場合に出力されます。へ(べ、ぺ)の平仮名と片仮名をタイプミスしている場合には改名が必要です。タイプミスではない場合には、そのままで構いません。
</dd>
<dt>「片仮名と「力/工/口/二(漢字)」が隣接しています」</dt>
<dd>
片仮名と「力/工/口/二(漢字)」が隣り合っている場合に出力されます。「カ二」のように片仮名の(カ、エ、ロ、ニ)とタイプするべきところを漢字にしてしまった場合には改名が必要です。「ニュートン力学」のようにタイプミスではない場合には、そのままで構いません。
</dd>
<dt>「会社の記事であれば法的地位を示す語句を含むことは推奨されません」</dt>
<dd>
会社・団体名の記事では、記事名に法的地位(「株式会社」など)は含まないことになっています。「日本電信電話株式会社」は「日本電信電話」という記事名でなければなりません。該当する場合には改名が必要です。会社名の記事で無い場合には(「株式会社 (日本)」など)、そのままで構いません。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E5.9B.A3.E4.BD.93.E5.90.8D">Wikipedia:記事名の付け方#団体名</a>」より<br>
慣例的にリダイレクトの場合は法的地位を付けても構わないことになっています。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E5%89%8A%E9%99%A4%E4%BE%9D%E9%A0%BC/%E5%89%8D%E7%94%B0%E9%87%91%E5%B1%9E%E5%B7%A5%E6%A5%AD%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BE">Wikipedia:削除依頼/前田金属工業株式会社</a>」より<br>
また、架空の団体の場合に記事名に法的地位を付けるかどうかは、まだ合意が出来ていません。<br>
「<a href="http://ja.wikipedia.org/wiki/%E3%83%8E%E3%83%BC%E3%83%88:%E9%8A%80%E6%B2%B3%E9%89%84%E9%81%93%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BE#.E6.94.B9.E5.90.8D.E6.8F.90.E6.A1.88.EF.BC.882011.E5.B9.B4.EF.BC.89">ノート:銀河鉄道株式会社#改名提案（2011年）</a>」より<br>
</dd>
<dt>「波記号は〜(U+301C)を使用しましょう」</dt>
<dd>
「～(U+FF5E)」を使用した場合に出力されます。波記号は「〜(U+301C)」を使用することが推奨されていますので、改名が必要です。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A1%A8%E8%A8%98%E3%82%AC%E3%82%A4%E3%83%89#.E6.B3.A2.E3.83.80.E3.83.83.E3.82.B7.E3.83.A5">Wikipedia:表記ガイド#波ダッシュ</a>」より
</dd>
<dt>「ｘ(U+xxxx) はJIS X 0208外の文字です」</dt>
<dd>
JIS X 0208で制定されている以外の漢字(﨑(U+FA11)など)を使用した場合に出力されます。記事名に使用できる漢字はJIS X 0208に制限されていますので、改名が必要です。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E5.85.A8.E8.A7.92.E3.81.A8.E5.8D.8A.E8.A7.92.E3.81.AE.E4.BD.BF.E3.81.84.E5.88.86.E3.81.91">Wikipedia:記事名の付け方#全角と半角の使い分け</a>」より
</dd>
<dt>「ｘ は基本多言語面外の文字です」</dt>
<dd>
基本多言語面(UNICOCDE BMP)外の文字を使用した場合に出力されます。記事名には基本多言語面の文字のみをしようするように制限されていますので、改名が必要です。ただ、実際にはシステム上で基本多言語面外の文字を使用した記事名は作成されないようになっていますので、このチェックが働くことはあり得ないはずです。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A8%98%E4%BA%8B%E5%90%8D%E3%81%AE%E4%BB%98%E3%81%91%E6%96%B9#.E3.82.B7.E3.82.B9.E3.83.86.E3.83.A0.E4.B8.8A.E3.81.AE.E4.BD.BF.E7.94.A8.E5.8F.AF.E8.83.BD.E6.96.87.E5.AD.97.E3.81.AE.E5.88.B6.E9.99.90">Wikipedia:記事名の付け方#システム上の使用可能文字の制限</a>」より
</dd>
</dl>

<h2 id="lint-text">本文チェック(lint-text)</h2>

<p>
本文チェックは、記事の本文がガイドラインに沿っているかどうかを確かめて、問題がありそうな箇所を報告する機能です。
</p>
<p>
機能的に似たプロジェクトとして<a href="http://ja.wikipedia.org/wiki/%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88:%E3%82%A6%E3%82%A3%E3%82%AD%E6%96%87%E6%B3%95%E3%81%AE%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF">プロジェクト:ウィキ文法のチェック</a>(現行は<a href="">http://toolserver.org/~sk/cgi-bin/checkwiki/checkwiki.cgi</a>)があります。プロジェクトではチェック項目ごとにレポートするのに対してjawptoolでは記事ごとにレポートすること、プロジェクトは全言語汎用なウィキ文法のみをチェックするのに対しjawptoolではウィキペディア日本語版ローカルのガイドラインも取り入れていることなどが違います。
</p>
<p>
記事名チェックと同様、標準名前空間のページだけを調べればよいので、データベースファイルは「jawiki-latest-pages-articles.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool lint-text jawiki-latest-pages-articles.xml lint-text.txt</pre>
<p>
しばらくするとチェックが完了して、レポートファイルが作成されます。なお、本文チェックは処理に非常に時間が掛かる上に、出力レポートが膨大になることから、1万ページを処理した時点で途中終了するようになっています。レポートは以下のようになっています。
</p>
<pre>= 記事本文lint =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-articles.xml を本文の誤りの可能性について検査したものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

プログラムで機械的に検査しているため、修正すべきでない記事についても検出されている可能性は大いにあります。この一覧を元に修正を行う場合は、個別にその修正が行われるべきか、十分に検討してから行うようにお願いします。また、修正は必ず各方針・ガイドラインに従って行ってください。本プログラムの開発時より後に方針・ガイドラインが更新されている可能性もあることを留意下さい。

== [[アンパサンド]] ==
*出典に関する節がありません

== [[言語]] ==
*(身振り)のリンク先はリダイレクトです(5)
*全角記号の使用は推奨されません(35)
*(生きた化石)のリンク先はリダイレクトです(43)

(以下省略)
</pre>
<p>
記事名チェックと同様、wikiテキスト形式で出力されます。冒頭に注意文があり、続いて「記事名」「その記事の問題点」が出力されます。問題点の末尾に括弧付きの数字がある場合、その数字は記事テキストの行位置を表しています。
</p>
<p>
本文チェックの全ての項目に言えることですが、チェックされた点を解消するだけの編集は、たとえそれが適切なものであっても好まれない可能性があります(<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E5%90%8C%E3%81%98%E8%A8%98%E4%BA%8B%E3%81%B8%E3%81%AE%E9%80%A3%E7%B6%9A%E6%8A%95%E7%A8%BF%E3%82%92%E6%B8%9B%E3%82%89%E3%81%99">Wikipedia:同じ記事への連続投稿を減らす</a>)。出来るならば、有意な加筆時などに一緒に行うようにしましょう。
<p>
次に警告文とその意味を個別に説明します。
</p>
<dl>
<dt>「見出し記法の左右の=の数が一致しません」</dt>
<dd>
「=」を用いる見出し記法において、見出しの左右のイコールの数が一致しないため、見出しレベルが決定できない場合に出力されます。
</dd>
<dt>「レベル1の見出しがあります」</dt>
<dd>
レベル1の見出しは記事本文では使用せず、レベル2から始めることになっています。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB#.E8.A6.8B.E5.87.BA.E3.81.97">Wikipedia:スタイルマニュアル#見出し</a>」より
</dd>
<dt>「見出しレベルは6までです」</dt>
<dd>
見出しレベル7以上は指定できません。
</dd>
<dt>「レベルｘの見出しの前にレベルｙの見出しが必要です」</dt>
<dd>
見出しは1段ごとに深くなっていくことが推奨されます。見出しレベル3を用いるなら、その前に見出しレベル2があるべきです。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB#.E8.A6.8B.E5.87.BA.E3.81.97">Wikipedia:スタイルマニュアル#見出し</a>」より
</dd>
<dt>「ISBN記法では、ISBNと数字の間に半角スペースが必要です」</dt>
<dd>
ISBN記法では「ISBN」とISBNコードの間に半角スペースが一つ必要です。<br>
「<a href="http://ja.wikipedia.org/wiki/Help:ISBN%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF">Help:ISBNのリンク</a>」より
</dd>
<dt>「ISBNは10桁もしくは13桁でないといけません」</dt>
<dd>
ISBNコードは10桁もしくは13桁となっています。<br>
「<a href="http://ja.wikipedia.org/wiki/Help:ISBN%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF">Help:ISBNのリンク</a>」より
</dd>
<dt>「西暦は全桁表示が推奨されます」</dt>
<dd>
「’90年」のように西暦の桁数を省略した書き方は推奨されません。「1990年」と全桁を記載することが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A1%A8%E8%A8%98%E3%82%AC%E3%82%A4%E3%83%89#.E5.B9.B4.E6.9C.88.E6.97.A5.E3.83.BB.E6.99.82.E9.96.93">Wikipedia:表記ガイド#年月日・時間</a>」より
</dd>
<dt>「閉じられていないコメントタグがあります」</dt>
<dd>
HTMLのコメント開始タグ(&lt;!--)に対応する終了タグ(--&gt;)がありません。
</dd>
<dt>「デフォルトソートではソートキーが必須です」</dt>
<dd>
デフォルトソートにはソートキーを指定しなければなりません。<br>
「<a href="http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88%E3%82%BD%E3%83%BC%E3%83%88#DEFAULTSORT">Wikipedia:カテゴリの方針#DEFAULTSORT</a>」より
</dd>
<dt>「ソートキーには濁音、半濁音、吃音、長音は清音化することが推奨されます」</dt>
<dd>
デフォルトソートもしくはカテゴリのソートキーは清音で指定することが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88%E3%82%BD%E3%83%BC%E3%83%88#.E3.82.BD.E3.83.BC.E3.83.88.E3.82.AD.E3.83.BC">Wikipedia:カテゴリの方針#ソートキー</a>」より
</dd>
<dt>「デフォルトソートが複数存在します」</dt>
<dd>
デフォルトソートは一つの記事に一つで十分です。
</dd>
<dt>「既に使用されているカテゴリです」</dt>
<dd>
既に指定したカテゴリを重複して指定しています。
</dd>
<dt>「ｘは存在しないカテゴリです」</dt>
<dd>
存在しないカテゴリを指定しています。
</dd>
<dt>「ｘは存在しないテンプレートです」</dt>
<dd>
存在しないテンプレートを指定しています。
</dd>
<dt>「全角記号の使用は推奨されません」</dt>
<dd>
全角記号の使用は推奨されません。半角記号に置き換えることが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A1%A8%E8%A8%98%E3%82%AC%E3%82%A4%E3%83%89#.E4.BD.BF.E7.94.A8.E5.8F.AF.E8.83.BD.E3.81.AA.E6.96.87.E5.AD.97">Wikipedia:表記ガイド#使用可能な文字</a>」より
</dd>
<dt>「全角英数字の使用は推奨されません」</dt>
<dd>
全角英数字の使用は推奨されません。半角英数字に置き換えることが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A1%A8%E8%A8%98%E3%82%AC%E3%82%A4%E3%83%89#.E4.BD.BF.E7.94.A8.E5.8F.AF.E8.83.BD.E3.81.AA.E6.96.87.E5.AD.97">Wikipedia:表記ガイド#使用可能な文字</a>」より
</dd>
<dt>「半角カタカナの使用は推奨されません」</dt>
<dd>
半角カタカナの使用は推奨されません。全角カタカナに置き換えることが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A1%A8%E8%A8%98%E3%82%AC%E3%82%A4%E3%83%89#.E4.BD.BF.E7.94.A8.E5.8F.AF.E8.83.BD.E3.81.AA.E6.96.87.E5.AD.97">Wikipedia:表記ガイド#使用可能な文字</a>」より
</dd>
<dt>「ローマ数字はアルファベットを組み合わせましょう」</dt>
<dd>
記号のローマ数字(Ⅰ、Ⅱなど)の使用は推奨されません。アルファベットを組み合わせた表記に置き換えることが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A1%A8%E8%A8%98%E3%82%AC%E3%82%A4%E3%83%89#.E3.83.AD.E3.83.BC.E3.83.9E.E6.95.B0.E5.AD.97">Wikipedia:表記ガイド#ローマ数字</a>」より
</dd>
<dt>「丸付き数字の使用は推奨されません」</dt>
<dd>
記号の丸付き数字(①、②など)の使用は推奨されません。(1)などに置き換えることが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A1%A8%E8%A8%98%E3%82%AC%E3%82%A4%E3%83%89#.E4.B8.B8.E6.95.B0.E5.AD.97">Wikipedia:表記ガイド#丸数字</a>」より
</dd>
<dt>「言語間リンクはアルファベット順に並べることが推奨されます」</dt>
<dd>
言語間リンクは言語コードのアルファベット順に並べることが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/%E8%A8%80%E8%AA%9E%E9%96%93%E3%83%AA%E3%83%B3%E3%82%AF#.E8.A8.80.E8.AA.9E.E9.96.93.E3.83.AA.E3.83.B3.E3.82.AF.E3.81.AE.E6.85.A3.E7.BF.92">Help:言語間リンク#言語間リンクの慣習</a>」より
</dd>
<dt>「言語間リンクが重複しています」</dt>
<dd>
言語間リンクで同じ言語コードを重複して指定しています。
</dd>
<dt>「不正なURLです」</dt>
<dd>
URLとして機能しない不正な記述があります。
</dd>
<dt>「ｘのリンク先は曖昧さ回避です」</dt>
<dd>
内部リンクのリンク先が曖昧さ回避記事になっています。曖昧さ回避に内部リンクすることは基本的に推奨されていません。意図する意味のリンク先に修正することが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/%E6%9B%96%E6%98%A7%E3%81%95%E5%9B%9E%E9%81%BF#.E6.9B.96.E6.98.A7.E3.81.95.E5.9B.9E.E9.81.BF.E3.83.9A.E3.83.BC.E3.82.B8.E3.81.B8.E3.81.AE.E3.83.AA.E3.83.B3.E3.82.AF.E3.81.AF.E6.A5.B5.E5.8A.9B.E9.81.BF.E3.81.91.E3.82.8B">Wikipedia:曖昧さ回避#曖昧さ回避ページへのリンクは極力避ける</a>」より
</dd>
<dt>「ｘのリンク先はリダイレクトです」</dt>
<dd>
内部リンクのリンク先がリダイレクトになっています。リダイレクトは解消してよい場合とよくない場合があります。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E3%83%AA%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88#.E3.83.AA.E3.83.80.E3.82.A4.E3.83.AC.E3.82.AF.E3.83.88.E3.81.AE.E8.A7.A3.E6.B6.88">Wikipedia:リダイレクト#リダイレクトの解消</a>」より
</dd>
<dt>「年月日へのリンクは年と月日を分けることが推奨されます」</dt>
<dd>
[[2011年12月5日]]のように、年月日をまとめて内部リンクすることは推奨されていません。[[2011年]][[12月5日]]のように、年と月日を分けて内部リンクすることが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E8%A1%A8%E8%A8%98%E3%82%AC%E3%82%A4%E3%83%89#.E5.B9.B4.E6.9C.88.E6.97.A5.E3.83.BB.E6.99.82.E9.96.93">Wikipedia:表記ガイド#年月日・時間</a>」より
</dd>
<dt>「リンク先の節がありません」</dt>
<dd>
内部リンクのリンク先の節が見つかりません。節名が変更になっている場合には、リンクを修正する必要があります。
</dd>
<dt>「空のリンクまたは閉じられていないカッコがあります」</dt>
<dd>
[]のように空であったり、対応する括弧が無い記述があります。
</dd>
<dt>「本文、カテゴリ、言語間リンクの順に記述することが推奨されます」</dt>
<dd>
記事本文は、本文、カテゴリ指定、言語間リンクの順に記述することが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/%E8%A8%80%E8%AA%9E%E9%96%93%E3%83%AA%E3%83%B3%E3%82%AF#.E8.A8.80.E8.AA.9E.E9.96.93.E3.83.AA.E3.83.B3.E3.82.AF.E3.81.AE.E6.85.A3.E7.BF.92">Help:言語間リンク#言語間リンクの慣習</a>」より
</dd>
<dt>「&lt;ref&gt;要素があるのに&lt;references&gt;要素がありません」</dt>
<dd>
参照として&lt;ref&gt;要素が記載されているのに、&lt;references&gt;要素もしくは{{reflist}}の記載がありません。
</dd>
<dt>「定義文が見当たりません」</dt>
<dd>
本文の冒頭に記事名を定義する文章を記載することが推奨されますが、その記載が見当たりません。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB_%28%E5%B0%8E%E5%85%A5%E9%83%A8%29">Wikipedia:スタイルマニュアル (導入部)</a>」より
</dd>
<dt>「カテゴリが一つもありません」</dt>
<dd>
カテゴリは一つは指定することが推奨されます。<br>
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA%E3%81%AE%E6%96%B9%E9%87%9D#.E3.82.AB.E3.83.86.E3.82.B4.E3.83.AA.E4.BB.98.E4.B8.8E.E3.81.AE.E6.8C.87.E9.87.9D">Wikipedia:カテゴリの方針#カテゴリ付与の指針</a>」より
</dd>
<dt>「デフォルトソートがありません」</dt>
<dd>
デフォルトソートは無くても問題ありませんが、あると便利です。ただし、デフォルトソートを追加するだけの編集は慎むべきとされています。<br>
「<a href="http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88%E3%82%BD%E3%83%BC%E3%83%88#DEFAULTSORT">Wikipedia:カテゴリの方針#DEFAULTSORT</a>」より
</dd>
<dt>「出典に関する節がありません」</dt>
<dd>
出典に関する節が見当たりません。機械的に判定しているため、実際にはあるかもしれません。その場合は問題ありません。
</dd>
<dt>「存命人物ではありません」</dt>
<dd>
「存命人物」のカテゴリ指定がありますが、死亡年月日に関するカテゴリもしくはテンプレートの指定があり、矛盾しています。
</dd>
<dt>「生年のカテゴリがありません」</dt>
<dd>
人物記事と思われるのに、生年のカテゴリ指定がありません。生年が不明の場合は「生年不明」を指定します。
</dd>
<dt>「存命人物または没年のカテゴリがありません」</dt>
<dd>
人物記事と思われるのに、「存命人物」カテゴリもしくは没年に関するカテゴリの指定がありません。没年が不明の場合は「没年不明」を指定します。
</dd>
<dt>「(生年月日と年齢)のテンプレートを使うと便利です」</dt>
<dd>
人物記事においては「Template:生年月日と年齢」を使用すると、現在年齢を自動計算できるなど便利な機能があります。
</dd>
<dt>「(死亡年月日と没年齢)のテンプレートを使うと便利です」</dt>
<dd>
人物記事においては「Template:死亡年月日と没年齢」を使用すると、没年齢を自動計算できるなど便利な機能があります。
</dd>
<dt>「(生年月日と年齢or死亡年月日と没年齢or没年齢)テンプレートと生年のカテゴリが一致しません」</dt>
<dd>
生年月日に関するテンプレートの情報と、生年のカテゴリの情報が一致しません。どちらかが誤って指定されていると思われます。
</dd>
<dt>「(死亡年月日と没年齢or没年齢)テンプレートと没年のカテゴリが一致しません」</dt>
<dd>
没年月日に関するテンプレートの情報と、没年のカテゴリの情報が一致しません。どちらかが誤って指定されていると思われます。
</dd>
</dl>


<h2 id="lint-redirect">リダイレクトチェック(lint-redirect)</h2>

<p>
リダイレクトチェックは、問題がある可能性があるリダイレクト記事の一覧を報告する機能です。
</p>
<p>
赤リンクへのリダイレクトは<a href="http://ja.wikipedia.org/wiki/%E7%89%B9%E5%88%A5:%E8%BF%B7%E5%AD%90%E3%81%AE%E3%83%AA%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88">特別:迷子のリダイレクト</a>に類似しますが、jawptoolではリンク先の節が無いものも検出している点が違います。
</p>
<p>
リダイレクトチェックではノートページの有無も調べるため、データベースファイルは「jawiki-latest-pages-meta-current.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool lint-redirect jawiki-latest-pages-meta-current.xml lint-redirect.txt</pre>
<p>
しばらくするとチェックが完了して、レポートファイルが作成されます。レポートは以下のようになっています。
</p>
<pre>= リダイレクトlint =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-meta-current.xml をリダイレクトの誤りの可能性について検査したものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

プログラムで機械的に検査しているため、修正すべきでない記事についても検出されている可能性は大いにあります。この一覧を元に修正を行う場合は、個別にその修正が行われるべきか、十分に検討してから行うようにお願いします。また、修正は必ず各方針・ガイドラインに従って行ってください。本プログラムの開発時より後に方針・ガイドラインが更新されている可能性もあることを留意下さい。

== 曖昧さ回避のカッコ付きリダイレクト ==
*[[ミュージシャン一覧 (個人)]]
*[[バス (弦楽器)]]
*[[映画俳優一覧 (国内)]]
*[[タイプ1 (マジック:ザ・ギャザリング)]]

(以下省略)
</pre>
<p>
「記事名チェック」や「本文チェック」では、記事名とその記事における問題点という形式でレポートされていましたが、リダイレクトチェックではチェック項目が少なく、また重複するチェック項目が無いことから、チェック項目と対象の記事名一覧という形式でレポートされます。
</p>
<p>
リダイレクトチェックでチェックするのは次の三つです。
</p>
<dl>
<dt>「赤リンクへのリダイレクト」</dt>
<dd>
赤リンクへのリダイレクトは即時削除の対象ではありません(<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E5%8D%B3%E6%99%82%E5%89%8A%E9%99%A4%E3%81%AE%E6%96%B9%E9%87%9D#.E3.83.AA.E3.83.80.E3.82.A4.E3.83.AC.E3.82.AF.E3.83.88">Wikipedia:即時削除の方針#リダイレクト1-1</a>)が、有用で無い可能性はあります。リンク先の節が無くなってレポートされている場合には、変更後の節名に修正することが出来るかもしれません。
</dd>
<dt>「リダイレクト先での言及無し」</dt>
<dd>
「foo」というリダイレクト記事が「bar」という記事に転送されている場合に、「bar」において「foo」に関する言及が無い場合に出力されます。「foo」を閲覧したユーザは「foo」に関する説明を読みたいと考えていますが、その説明が無いのは適切でない場合があります。「bar」の記事に「foo」に関する記述を加筆するか、「foo」の転送先をより適切なものに変更することで解消できるかもしれません。
</dd>
</dl>

<h2 id="lint-index">索引チェック(lint-index)</h2>

<p>
索引チェックは、索引記事の本文が索引のガイドラインに沿っているかどうかを確かめて、問題がありそうな箇所を報告する機能です。
</p>
<p>
索引記事は「jawiki-latest-pages-articles.xml」に含まれていますので、データベースファイルはこちらを使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool lint-index jawiki-latest-pages-articles.xml lint-index.txt</pre>
<p>
しばらくするとチェックが完了して、レポートファイルが作成されます。レポートは以下のようになっています。
</p>
<pre>= 索引文法lint =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-articles.xml から索引の誤りの可能性を検査したもので、[[Wikipedia:索引]]の支援を行うためのものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

== [[Wikipedia:索引 い]] ==
*分野名がありません(27)
*分野名がありません(29)
*分野名がありません(31)
*分野名がありません(32)
*【曖昧】より【曖昧さ回避】が推奨されます(33)

(以下省略)
</pre>
<p>
これまでのレポートと同様に、冒頭に注意文があり、続いて「索引記事名」「その記事の問題点」が出力されます。問題点の末尾の括弧つきの数字は、問題点のあるテキストの行位置を表します。
</p>
<p>
次に警告文とその意味を個別に説明します。
</p>
<dl>
<dt>「見出しｘは濁音、半濁音、吃音、拗音、長音を使っています」</dt>
<dd>
索引の見出しは清音であることが望ましいです。
</dd>
<dt>「見出しｘが記事名に一致しません」</dt>
<dd>
索引記事「あ」には「あ」から始まる記事名のみが収録されるため、見出しも「あ」から始まることになります。「あ」以外から始まる見出しは場違いになります。
</dd>
<dt>「見出しｘがあいうえお順ではありません」</dt>
<dd>
索引記事の見出しはあいうえお順に並んでいることが望ましいです。
</dd>
<dt>「ｘは赤リンクです」</dt>
<dd>
通常の記事では赤リンクを作成することは、なんら問題はありません。しかし、存在する記事に対するナビゲーションである索引記事では望ましいものではありません。
「<a href="http://ja.wikipedia.org/wiki/Wikipedia%E2%80%90%E3%83%8E%E3%83%BC%E3%83%88:%E7%B4%A2%E5%BC%95#.E8.B5.A4.E3.83.AA.E3.83.B3.E3.82.AF.E3.81.AB.E3.81.A4.E3.81.84.E3.81.A6">Wikipedia‐ノート:索引#赤リンクについて</a>」より
</dd>
<dt>「読み仮名がありません」</dt>
<dd>
記事名には読み仮名を併記することが推奨されます。
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E7%B4%A2%E5%BC%95#.E5.87.A1.E4.BE.8B">Wikipedia:索引#凡例</a>」より
</dd>
<dt>「分野名がありません」</dt>
<dd>
記事名には分野名を併記することが推奨されます。
「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E7%B4%A2%E5%BC%95#.E5.87.A1.E4.BE.8B">Wikipedia:索引#凡例</a>」より
</dd>
</dl>

<h2 id="statistic">統計(statistic)</h2>

<p>
統計は、ウィキペディアの記事の統計情報をとる機能です。
</p>
<p>
MediaWiki本家統計ページとして<a href="http://ja.wikipedia.org/wiki/%E7%89%B9%E5%88%A5:%E7%B5%B1%E8%A8%88">特別:統計</a>があります。しかし、ここに載ってない統計情報もjawptoolでは扱っています。逆に、本家統計でしか扱っていない情報もあります。
</p>
<p>
被リンクの統計としては<a href="http://ja.wikipedia.org/wiki/%E7%89%B9%E5%88%A5:%E8%A2%AB%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AE%E5%A4%9A%E3%81%84%E3%83%9A%E3%83%BC%E3%82%B8">特別:被リンクの多いページ</a>がありますが、現在は更新が止まっています。
</p>
<p>
曖昧さ回避の統計としては<a href="http://ja.wikipedia.org/wiki/%E5%88%A9%E7%94%A8%E8%80%85:Tatsujin28/%E6%9B%96%E6%98%A7%E3%81%95%E5%9B%9E%E9%81%BF%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E8%A2%AB%E3%83%AA%E3%83%B3%E3%82%AF%E6%95%B0">利用者:Tatsujin28/曖昧さ回避ページの被リンク数</a>があります。しかし、このページは更新が止まっています。手順はノートに書かれていますので、誰でも更新することは可能です。
</p>
<p>
赤リンク統計としては、<a href="http://ja.wikipedia.org/wiki/%E7%89%B9%E5%88%A5:%E5%AD%98%E5%9C%A8%E3%81%97%E3%81%AA%E3%81%84%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%B8%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF">特別:存在しないページへのリンク</a>があります。しかし、こちらも更新が止まっています。
</p>
<p>
カテゴリ、ファイル、テンプレートの使用統計としては、<a href="http://ja.wikipedia.org/wiki/%E7%89%B9%E5%88%A5:%E8%A2%AB%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AE%E5%A4%9A%E3%81%84%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA">特別:被リンクの多いカテゴリ</a>、<a href="http://ja.wikipedia.org/wiki/%E7%89%B9%E5%88%A5:%E8%A2%AB%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AE%E5%A4%9A%E3%81%84%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB">特別:被リンクの多いファイル</a>、<a href="http://ja.wikipedia.org/wiki/%E7%89%B9%E5%88%A5:%E4%BD%BF%E7%94%A8%E7%AE%87%E6%89%80%E3%81%AE%E5%A4%9A%E3%81%84%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88">特別:使用箇所の多いテンプレート</a>があります。jawptoolとは集計の基準が違うので、違った結果になっていますが、どちらも正しい(はず)です。
</p>
<p>
統計情報を取るのですから、全ページが含まれた「jawiki-latest-pages-meta-current.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool statistic jawiki-latest-pages-meta-current.xml statistic</pre>
<p>
統計処理は非常に時間が掛かります(筆者の手元の環境で3時間程度)。終了するまで、ゆっくりお待ちください。レポートは以下のようになっています。
</p>
<pre>= 統計 =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-meta-current.xml を集計したものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

同種の集計は他にも多数ありますが、集計基準が違うために、集計値に違いがある場合があります。特に、本レポートではテンプレート内で使用されているリンク、ファイル、テンプレートをカウントしていないため、差異が大きくなっている可能性があります。

== 名前空間別ファイル数 ==
{| class="wikitable" style="text-align:right"
! colspan="2" | 本体 !! colspan="2" | ノート
|-
! 名前 !! ファイル数 !! 名前 !! ファイル数
|-
|通常記事 || 786966 || ノート || 164663

(以下省略)
</pre>
<p>
統計は次の節からなっています。
</p>
<dl>
<dt>「名前空間別ファイル数」</dt>
<dd>
名前空間別のファイル数の集計です。
</dd>
<dt>「発リンク数ランキング」</dt>
<dd>
本文の内部リンクの多い記事のランキングです。
</dd>
<dt>「被リンク数ランキング」</dt>
<dd>
被リンクの多い記事のランキングです。
</dd>
<dt>「リダイレクト呼出数ランキング」</dt>
<dd>
呼び出し回数の多いリダイレクトのランキングです。
</dd>
<dt>「曖昧さ回避呼出数ランキング」</dt>
<dd>
呼び出し回数の多い曖昧さ回避記事のランキングです。
</dd>
<dt>「赤リンク数ランキング」</dt>
<dd>
呼び出し回数の多い赤リンクのランキングです。
</dd>
<dt>「カテゴリ使用数ランキング」</dt>
<dd>
呼び出し回数の多いカテゴリのランキングです。
</dd>
<dt>「ファイル使用数ランキング」</dt>
<dd>
呼び出し回数の多いファイルのランキングです。
</dd>
<dt>「テンプレート使用数ランキング」</dt>
<dd>
呼び出し回数の多いテンプレートのランキングです。
</dd>
<dt>「外部リンクホストランキング」</dt>
<dd>
外部リンクのホスト別のランキングです。
</dd>
<dt>「見出し語ランキング」</dt>
<dd>
見出し語の使用回数のランキングです。
</dd>
<dt>「井戸端統計」</dt>
<dd>
井戸端のサブページ数と発言数の月別の統計です。
</dd>
<dt>「削除依頼統計」</dt>
<dd>
削除依頼のサブページ数と発言数の月別の統計です。
</dd>
<dt>「CheckUser依頼統計」</dt>
<dd>
チェックユーザ依頼のサブページ数と発言数の月別の統計です。
</dd>
<dt>「投稿ブロック依頼統計」</dt>
<dd>
投稿ブロック依頼のサブページ数と発言数の月別の統計です。
</dd>
<dt>「管理者への立候補統計」</dt>
<dd>
管理者への立候補のサブページ数と発言数の月別の統計です。
</dd>
<dt>「コメント依頼統計」</dt>
<dd>
コメント依頼のサブページ数と発言数の月別の統計です。
</dd>
<dt>「査読依頼統計」</dt>
<dd>
査読依頼のサブページ数と発言数の月別の統計です。
</dd>
</dl>

<h2 id="titlelist">記事名一覧出力(titlelist)</h2>

<p>
記事名一覧出力は、その名の通り記事名を一覧にして出力する機能です。出力される形式はperlのハッシュ形式になっていますので、perlスクリプトから簡単に読み込んで扱うことが出来ます。
</p>
<p>
全記事名を取得する場合はデータベースファイルとして「jawiki-latest-pages-meta-current.xml」を、主要な記事名のみで構わない場合は「jawiki-latest-pages-articles.xml」を使用します。「jawiki-latest-pages-articles.xml」を使用した場合でも全名前空間分が出力されますが、データが無いため中身は空になります。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool titlelist jawiki-latest-pages-meta-current.xml titlelist</pre>
<p>
他の機能では出力されるレポートファイルは一つですが、記事名一覧出力のみは名前空間分のファイルに分割されて出力されます。そのときのファイル名は、出力ファイル名に指定した名称に「_(名前空間).pl」を付加したものになります。例として、曖昧さ回避記事名の一覧の冒頭部分は以下のようになっています。
</p>
<pre>use utf8;
$xmlfile = 'jawiki-latest-pages-meta-current.xml';
$aimai = {
'墨 (曖昧さ回避)'=&gt;1,
'ビオ'=&gt;1,
'竜門の滝'=&gt;1,
'中央信用組合 (曖昧さ回避)'=&gt;1,
'AT'=&gt;1,

(以下省略)
</pre>

<h2 id="living-noref">出典の無い存命人物記事一覧(living-noref)</h2>

<p>
出典の無い存命人物記事一覧は、その名の通り出典が無い存命人物の記事名の一覧を出力する機能です。
</p>
<p>
標準名前空間のファイルのみを対象にすればよいので、データベースファイルは「jawiki-latest-pages-articles.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool living-noref jawiki-latest-pages-articles.xml living-noref.txt</pre>
<p>
しばらくするとチェックが完了して、レポートファイルが作成されます。レポートは以下のようになっています。
</p>
<pre>= 出典の無い存命人物一覧 =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-articles.xml から出典の無い存命人物を抽出したものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

== 一覧 ==
*[[寺沢武一]]
*[[永野のりこ]]
*[[聖悠紀]]
*[[日渡早紀]]
*[[藤島康介]]
*[[六道神士]]
*[[赤石路代]]
*[[吉田秋生]]

(以下省略)
</pre>
<p>
冒頭から漫画家さんの名前がずらっと並んでいますが、そこで笑ってはいけません。つまりは、ウィキペディアの過去の編集において、漫画家記事の出典が軽視されてきたという証なのですから。また、一覧の続きを見ていけば出典の無い存命人物記事は漫画家に限ったことではないことが分かります。
</p>
<p>
ウィキペディアの全ての記事において出典が求められるのですが、特に存命人物については「<a href="http://ja.wikipedia.org/wiki/Wikipedia:%E5%AD%98%E5%91%BD%E4%BA%BA%E7%89%A9%E3%81%AE%E4%BC%9D%E8%A8%98">Wikipedia:存命人物の伝記</a>」という方針で、出典を付ける事が強く要請されています。
</p>

<h2 id="longterm-request">長期間経過した依頼・提案一覧(longterm-request)</h2>

<p>
依頼・提案タグが貼られた状態で3ヶ月以上経過した記事の一覧を出力する機能です。
</p>
<p>
3ヶ月というのは、あくまでも目安です。通常の依頼・提案は審議期間は一週間ですので、それ以上経過することは無いのが理想です。しかし、現実には議論が合意に達することが出来ず、依頼・提案が長期化する場合があります。そうした場合もこの機能で発見できるのですが、それよりは依頼・提案タグが貼られたにも関わらず提出されていないために議論も行われていないという記事を発見することを主眼においています。
</p>
<p>
依頼・提案は通常名前空間に限ったことではありませんので、データベースファイルは「jawiki-latest-pages-meta-current.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool longterm-request jawiki-latest-pages-meta-current.xml longterm-request.txt</pre>
<p>
しばらくするとレポートファイルが作成されます。レポートは以下のようになっています。
</p>
<pre>= 長期間経過した削除依頼 =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-meta-current.xml から長期間経過した削除依頼を抽出したものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

== 一覧 ==

(以下省略)
</pre>


<h2 id="person">人物一覧記事加筆候補一覧(person)</h2>

<p>
人物一覧記事に未掲載の人物記事を一覧にして出力する機能です。人物一覧記事の加筆を支援するための機能です。
</p>
<p>
人物記事、人物一覧記事ともに通常名前空間にありますので、データベースファイルは「jawiki-latest-pages-articles.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool person jawiki-latest-pages-articles.xml person.txt</pre>
<p>
しばらくするとレポートファイルが作成されます。レポートは以下のようになっています。
</p>
<pre>= 人物一覧 =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-articles.xml から人物一覧記事に未掲載の人物記事を抽出したもので、[[生没同日]]・年記事・月日記事の記事作成の支援を行うためのものです。「死亡年月日と没年齢テンプレート」の記載を元に抽出しているため、抽出漏れもありえます。あくまでも支援ツールの一つとしてお使い下さい。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

== [[1221年]](誕生) ==
*[[杉本善徳]]

== [[1479年]](誕生) ==
*[[ヴァシーリー3世]]

(以下省略)
</pre>
<p>
出力される人物一覧記事は次の通りです。
</p>
<dl>
<dt>「年記事の誕生人物、死去人物」</dt>
<dd>
「xxxx年」という記事において、その年に誕生したもしくは死去した人物で、該当記事に未掲載の人物の一覧です。
</dd>
<dt>「生没同日」</dt>
<dd>
「<a href="http://ja.wikipedia.org/wiki/%E7%94%9F%E6%B2%A1%E5%90%8C%E6%97%A5">生没同日</a>」という記事において、未掲載の人物の一覧です。
</dd>
</dl>
<p>
ただし、このレポートに掲載されているからといって無条件に該当記事を加筆していいというわけではありません。一つには人物記事の記載が誤っていることがありますので、その場合は加筆することは出来ません。記載が誤っていなくても、例に挙がっている「杉本善徳」のように「生年が自称」という場合にも、年記事に加筆することはためらわれるでしょう。
</p>
<p>
誤っていなくても、該当する人物が膨大であって、果たして該当記事に加筆してもよいのかどうかという問題もあります。これについては、加筆する前に関連するノートで議論が必要ではないかと思います。
</p>

<h2 id="noindex">索引未登録記事一覧(noindex)</h2>

<p>
索引に登録されていない記事の一覧を出力する機能です。索引記事の加筆の支援を行うための機能です。
</p>
<p>
索引記事は「jawiki-latest-pages-articles.xml」に含まれていますので、データベースファイルはこちらを使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool noindex jawiki-latest-pages-articles.xml noindex</pre>
<p>
しばらくするとレポートファイルが作成されます。レポートは以下のようになっています。
</p>
<pre>= 索引未登録記事一覧 =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-articles.xml から索引に登録されていない記事を抽出したもので、[[Wikipedia:索引]]の支援を行うためのものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

== 一覧 ==
*[[プラン・ダムール〜愛がいっぱい〜]]
*[[MODERN MUSIC]]
*[[オサヴリオ〜愛は待ってくれない〜]]
*[[懐竹抄]]
*[[リゾート・ワールド・セントーサ]]
*[[HIP 13044]]

(以下省略)
</pre>
<p>
索引未登録記事は、ただちに索引記事に加筆しても問題ないと思いますが、なにしろ膨大ですので作業者の心が折れないように注意が必要です。
</p>

<h2 id="index-statistic">索引統計(index-statistic)</h2>

<p>
索引記事の統計情報に出力する機能です。
</p>
<p>
索引記事は「jawiki-latest-pages-articles.xml」に含まれていますので、データベースファイルはこちらを使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool index-statistic jawiki-latest-pages-articles.xml index-statistic.txt</pre>
<p>
しばらくするとレポートファイルが作成されます。レポートは以下のようになっています。
</p>
<pre>= 索引一覧 =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-articles.xml から索引の一覧を抽出したものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

== 一覧 ==
*[[Wikipedia:索引 にほ]](173925)
*[[Wikipedia:索引 とうきよう]](154936)
*[[Wikipedia:索引 1]](132611)
*[[Wikipedia:索引 19]](127469)
*[[Wikipedia:索引 かい]](111766)
*[[Wikipedia:索引 J]](109125)

(以下省略)
</pre>

<h2 id="aimai">曖昧さ回避加筆候補一覧(aimai)</h2>

<p>
曖昧さ回避記事の加筆候補を出力する機能です。
</p>
<p>
対象とする記事は通常名前空間の記事のみですので、データベースファイルは「jawiki-latest-pages-articles.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool aimai jawiki-latest-pages-articles.xml aimai.txt</pre>
<p>
しばらくするとレポートファイルが作成されます。レポートは以下のようになっています。
</p>
<pre>= 曖昧さ回避 =
このレポートは http://dumps.wikimedia.org/jawiki/ にて公開されているウィキペディア日本語版データベースダンプ jawiki-latest-pages-articles.xml から曖昧さ回避記事に登録されていない記事を抽出したものです。

過去の一時点でのダンプを対象に集計していますので、現在のウィキペディア日本語版の状態とは異なる可能性があります。

プログラムで機械的に検査しているため、掲載すべきでない記事についても検出されている可能性は大いにあります。この一覧を元に編集を行う場合は、個別にその編集が行われるべきか、十分に検討してから行うようにお願いします。

== [[ビオ]] ==
*[[ビオ (単位)]]

== [[世界樹 (曖昧さ回避)]] ==
*[[世界樹]]

== [[大橋宗桂]] ==
*[[大橋宗桂 (五代)]]

== [[シンカー]] ==
*[[シンカー (球種)]]

(以下省略)
</pre>
<p>
ただし、このレポートに記載されているからといって、必ずしも加筆していいわけではありません。リダイレクト記事が検出され、リダイレクト先の記事は既に曖昧さ回避記事に掲載されているなど、加筆の必要のないものも検出されている可能性があります。実際に加筆するかどうかは、個々に判断してから行ってください。
</p>

<h2 id="shortpage">短いページ(shortpage)</h2>

<p>
短いページ(1000バイト未満)を出力する機能です。
</p>
<p>
MediaWikiの<a href="http://ja.wikipedia.org/wiki/%E7%89%B9%E5%88%A5:%E7%9F%AD%E3%81%84%E3%83%9A%E3%83%BC%E3%82%B8">特別:短いページ</a>に類似しますが、抽出ルールが異なります。MediaWiki版ではソフトリダイレクトや曖昧さ回避記事も対象としていますが、本機能ではこれらの記事は対象から外しています。
</p>
<p>
対象とする記事は通常名前空間の記事のみですので、データベースファイルは「jawiki-latest-pages-articles.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool shortpage jawiki-latest-pages-articles.xml shortpage.txt</pre>
<p>
しばらくするとレポートファイルが作成されます。レポートは以下のようになっています。
</p>

<h2 id="lonelypage">孤立したページ(lonelypage)</h2>

<p>
どこからも内部リンクされていない孤立したページを出力する機能です。
</p>
<p>
MediaWikiの<a href="http://ja.wikipedia.org/wiki/%E7%89%B9%E5%88%A5:%E5%AD%A4%E7%AB%8B%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E3%83%9A%E3%83%BC%E3%82%B8">特別:孤立しているページ</a>に類似していますが、抽出ルールが異なります。MediaWiki版では名前空間を問わずいずれかのページから内部リンクされていれば孤立していないと判断しますが、本機能では標準記事空間の記事からのリンクのみを対象とします。また、標準記事空間であってもリダイレクト記事からの内部リンクと曖昧さ回避記事からの内部リンクは対象としないようになっています。つまり、通常の記事からの内部リンクが無い記事のみを抽出しているということです。
</p>
<p>
対象とする記事は通常名前空間の記事のみですので、データベースファイルは「jawiki-latest-pages-articles.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool lonelypage jawiki-latest-pages-articles.xml lonelypage.txt</pre>

<h2 id="category-statistic">カテゴリ別統計(category-statistic)</h2>

<p>
カテゴリ別の統計情報を出力する機能です。
</p>
<p>
対象とする記事は通常名前空間の記事のみですので、データベースファイルは「jawiki-latest-pages-articles.xml」を使用します。コマンドラインから以下のように入力して実行します。
</p>
<pre>$ ./jawptool category-statistic jawiki-latest-pages-articles.xml category-statistic.txt</pre>


<h2>CGI版</h2>

<p>
CGI版は、記事名チェックと本文チェックの機能をウェブインターフェイスで実行できるようにしたものです。基本的には記事名チェック、本文チェックと同様のチェックを行いますが、本文チェック機能では全ページを対象に一度にチェックするのに対し、CGI版本文チェックではフォームに入力された単一のページのみをチェックすることと、リンク先の検出機能に一部差があるという点が違います。

<h3>CGI版インストール</h3>

<p>
CGI版のインストールも単純です。CGIとperl5,8以上の動作するウェブサーバを用意し、lint-title.cgiとlint-text.cgiとJAWP.pmの三つのファイルをアップロードし、lint-title.cgiとlint-text.cgiに実行属性を付けるだけで完了です。
</p>

<h3>lint-title.cgi使用法</h3>

<p>
lint-title.cgiにウェブブラウザでアクセスすると、フォーム画面が表示されます。
</p>
<p>
「記事名」というフォームに、チェックしたい記事名を入力し「lint」というボタンをクリックすると、記事名チェックが行われレポートが表示されます。
</p>
<p>
入力した記事名は引き続きフォームに表示されますので、チェックされた項目を修正して「lint」を繰返すことが出来ます。
</p>

<h3>lint-text.cgi使用法</h3>

<p>
lint-text.cgiにウェブブラウザでアクセスすると、フォーム画面が表示されます。
</p>
<p>
「ウィキテキスト」というフォームに、チェックしたいウィキテキストを入力し「lint」というボタンをクリックすると、本文チェックが行われレポートが表示されます。
</p>
<p>
入力したウィキテキストは引き続きフォームに表示されますので、チェックされた項目を修正して「lint」を繰返すことが出来ます。
</p>
<h3>タイトルリストの読み込み</h3>
<p>
「記事名一覧出力」で出力したデータをjawp-lint.cgiで読み込むことが出来ます。そうすることによって、jawp-lint.cgiでも曖昧さ回避へのリンク、カテゴリの赤リンク、テンプレートの赤リンクを検出することが出来るようになります。
</p>
<p>
具体的には、「titlelist_aimai.pl」「titlelist_category.pl」「titlelist_template.pl」という三つのファイルをjawp-lint.cgiと同じディレクトリに置くことで実現します。これらのファイルが無い場合には、単にリンク先の存在チェックが行われないだけで、他のチェックは通常通り行われます。
</p>

<h2>付属ツール</h2>

<p>
jawptoolには次の二つのツールが付属しています。
</p>

<h3>wiki2html</h3>

<p>
ウィキテキストをhtmlに変換するためのツールです。コマンドラインで以下のようにして使用します。
</p>
<pre></pre>
<p>
ただし、対応しているwiki記法はほんの一部の簡易的なツールとなっています。jawptoolの出力するレポートを変換できる程度の機能はあります。
</p>

<h3>テスト</h3>

<p>
JAWP.pm(jawptoolの本体スクリプト)が正常に動作するかどうかをテストするためのスクリプト群です。コマンドラインから以下のようにして使用します。
</p>
<pre>$ prove</pre>
<p>
いくつかwarningが出ますが、これはテストで意図していることなので問題はありません。最後に「All tests successful.」と出力されれば、とりあえずその環境でjawptoolは正常に動作することが期待されます。ただし、テストが完璧というわけではありませんので、必ずしもそうとは限りません。
</p>

<h2>おわりに</h2>

<p>
以上でjawptoolの使い方の説明は終わりです。
</p>
<p>
jawptoolはウィキペディアと同じくオープンになっています。具体的にはGPLv3というライセンスのオープンソースソフトウェアです。ライセンスに従う限りにおいて、自由に使用することができ、またプログラムを改造して、更にそれを配布することも自由に行えます。
</p>
<p>
これは義務ではありませんが、もしそうした改造を行った場合は、jawptoolプロジェクトにも還元していただけると幸いです。改造でなくても、不具合の報告や追加機能のアイデアでも構いません。現状、jawptoolはプロジェクト・コミュニティと言えるほどの状態にはありませんが、少しでも多くの方の協力によって、より優れたツールへと進化することが出来ればより良いと思っています。そして、それによって日本語版ウィキペディアの品質が更に上がることが出来れば、更に良いことでしょう。
</p>
<p>
jawptoolプロジェクトのサイトは<a href="http://sourceforge.jp/projects/jawptool/">http://sourceforge.jp/projects/jawptool/</a>になります。「バグ報告」「フォーラム」がありますので、こちらまでお寄せいただければと思います。
</p>
<p>
それでは、皆様のウィキペディアライフが充実したものでありますことを願いまして、本稿を終わりにしたいと思います。ありがとうございました。
</p>

</body>

</html>
